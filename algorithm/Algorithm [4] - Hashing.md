# Algorithm [4] - Hashing



#### 해시 테이블 

-  해쉬 함수를 통해 어떤 곳에 저장할 지 지정하는 테이블 
- m개의 칸을 가진 (0 ~ m-1 인덱스를 가진) 해시테이블이 있을 때, 해쉬 함수 결과에 따라 각 인덱스에 데이터가 들어간다. 
- 각 인덱스에 데이터가 하나만 저장할 수 있도록 한다-> 같은 인덱스에 데이터가 중복으로 들어가는 경우 : **충돌(Collision)**



#### 해시 테이블에서 충돌을 해결하기 위한 방법

1. **Chaining**
2. **Open Addressing**



#### Chaining

- 각 인덱스에 저장되는 데이터를 연결리스트로 만들어서 많은 데이터를 저장할 수있게 하는 것
- 즉, 각 인덱스에는 첫번째 연결리스트의 주소값만 담겨있다.

##### Chaining 의 연산

1. 데이터의 삽입 : 연결리스트의 맨 앞에 삽입 
   - [ 시간 복잡도 : O(1) ]
2. 데이터의 검색 : 연결리스트 맨 앞에서부터 데이터 비교
   - [ 시간 복잡도 : 연결 리스트의  길이에 비례 ]
3. 데이터의 삭제 : 연결리스트로부터 데이터를 검색한 후 삭제
   - [ 시간 복잡도 : 검색 시간복잡도 + O(1) ]

<u>Chaining의 최악의 경우</u>

- 모든 데이터가 해시 테이블의 하나의 칸으로 해싱되는 경우

- 해당 칸의 인덱스에 길이가 N개인 연결리스트가 생성

  ->  시간 복잡도는 데이터가 칸에 얼마나 골고루 분배되는지에 따라 결정된다

  SUHA(Simple Uniform Hashing Assumption) 가정

  - 각각의 데이터가 모든 칸에 같은 확률로 독립적으로 해싱된다는 가정 -> **현실적 불가능**



#### Open Addressing

- Open Addressing의 종류
  1. Linear Probing
  2. Quadratic Probing
  3. Double Hashing

##### Linear Probing 

- 한 데이터가 들어가야할 칸에 이미 데이터가 있다면 다음 빈 칸에 데이터를 삽입

- Linear Probing의 단점 : **클러스터링**

  *** 클러스터링** : 테이블의 데이터들이 연속으로 뭉쳐있는 있을수록 클러스터링이 심하다고 표현 



##### Quadratic Probing

- Linear Probing의 단점을 보완하기 위한 기법
- probing의 순서를 조금 변경한것으로 충돌 발생 시, 바로 뒷자리를 보는 대신 다른 수식으로 해싱 시도헤 데이터를 삽입
- 특정 영역에 원소가 몰려도 그 영역을 빨리 벗어날 수 있다. 그러나 여러개의 원소가 동일한 초기 해시함수값을 가져 충돌을 한다면, 보폭은 넓어져 클러스터링은 해결하지만 이득을 보지 못한다



##### Double Probing

- 두 개의 함수를 사용한다.
- 충돌 후 다음 주소를 찾을 때, 두 번째 해시함수 값만큼 점프한다. -> 두 원소의 첫 번째 해시값이 같더라도 두 번째 해시 함수값이 같을 확률은 매우 적어 서로 다른 보폭으로 점프하게 된다. 
- 주의점은 두 번째 해시 함수값이 해시테이블 크기와 서로소인 값이어야 한다는 점



#### 해시 함수 연산 기법

- Division 기법 
  -  데이터를 테이블 사이즈로 나누어서 나머지를 구하는 연산
  - h(k) = k mod m -> 인덱스 0 ~ m-1의 인덱스로 나누어지기 때문에 자주 사용

- Multiplication 기법
  
  - 0~1 사이 상수 k를 선택해 데이터와 곱한 후, 소수부분만 추출한다
  - 소수부분 * 테이블 크기 -> 정수부분만 추출해 해쉬 주소로 정한다
  
  

---

***참고**

[java Hashcode 메소드 설명 ](https://minwan1.github.io/2018/07/03/2018-07-03-equals,hashcode/)

[hash를 사용하는 자바 컬렉션 : HashSet, TreeSet](https://swalloow.tistory.com/36?category=667489)

[hash를 사용하는 자바 컬렉션 : HashTable, HashMap](https://swalloow.tistory.com/40?category=667489)