# AWS Network

Regions

- 지역적으로 묶여있는 가용영역의 집합

가용영역 (AZs: Avaliablity Zones)

- 하나 이상의 데이터센터의 물리적인 묶음
- 여러 개의 데이터센터가 모여 하나의 논리적인 가용영역을 만듦
- 물리적으로 떨어져 있기 때문에 하나의 가용영역이 피해를 입더라도 다른 가용영역이 피해를 입지 않는다

VPC (Virtual Private Cloud)

- 사용자가 정의한 가상의 네트워크 공간
- 완전한 네트워크 제어 가능
    - IP 범위
    - 퍼블릭/프라이빗 서브넷 → IP 범위를 여러 개의 그룹으로 지정
    - 라우팅 테이블 → 네트워크 내 패킷 전달 경로를 결정
    - Network ACL, 보안 그룹
    - 다양한 게이트웨이 → 패킷 플로우를 제어하고 네트워크를 제어
- VPC 내 모든 EC2 인스턴스들은 사설 IP가 부여됨
- 개별 인스턴스에 공인 IP 할당 가능
    - Public IP : 유동 IP
    - Elastic IP : 고정 IP

IP 주소 범위

- CIDR 블록 설정
- RFC 1918에 정의된 사설 IP 대역 사용 권고
- VPC CIDR은 생성 후 변경 불가능
- VPC의 네트워크 범위는 /16 ~ /28까지 가능
- 향후 직접 연결할 가능성이 있는 네트워크와 주소가 중복되지 않도록 할당 권고

서브넷

- VPC CIDR 블록 범위에서 리전 별 세부 서브넷 정의
    - 서브넷 범위는 보통 /24 (256) 이상을 권고
    - 5개의 주소는 예약된 주소로 사용 불가
        - 0 : 네트워크의 주소
        - 1 : 라우터의 주소
        - 2 : 도메인 네임 서버
        - 3 : aws에 의해 예약된 주소
        - Last : 브로드캐스트
- 서브넷 종류
    - 퍼블릿 서브넷 : 인터넷과 연결
    - 프라이빗 서브넷 : 외부와 차단
- 서브넷 생성 후, 주소 범위 변경 불가능