# Routing Table

- 서브넷 또는 게이트웨이의 네트워크 트래픽이 전송되는 위치를 결정하는 규칙 세트

## Routing Table 개념

- 기본 라우팅 테이블
    - VPC와 함께 제공되는 라우팅 테이블
    - 다른 라우팅 테이블과 명시적으로 연결되지 않은 모든 서브넷의 라우팅을 제어
- 사용자 지정 라우팅 테이블 (Custom route table)
    - VPC에 대해 생성하는 라우팅 테이블
- 대상 (Destination)
    - 트래픽을 이동할 대상 IP 주소(대상 CIDR)의 범위
- 대상 (Target)
    - 대상 트래픽을 전송할 때 사용할 게이트웨이, 네트워크 인터페이스 또는 연결 (ex : 인터넷 게이트웨이)
- 라우팅 테이블 연결 (Route Table Association)
    - 라우팅 테이블과 서브넷, 인터넷 게이트웨이 또는 가상 프라이빗 게이트웨이 간의 연결
- 서브넷 라우팅 테이블(Subnet route table)
    - 서브넷과 연결된 라우팅 테이블
- 로컬 라우팅
    - VPC 내 통신을 위한 기본 라우팅
- 전파 (Propagation)
    - 라우팅 전파를 사용하면 가상 프라이빗 게이트웨이가 라우팅 테이블에 라우팅 테이블에 라우팅을 자동으로 전파할 수 있다 → 라우팅 테이블에 VPN 라우팅을 수동으로 입력할 필요가 없다는 뜻
- 게이트웨이 라우팅 테이블 (Gateway route table)
    - 인터넷 게이트웨이 또는 가상 프라이빗 게이트웨이와 연결된 라우팅 테이블
- 엣지 연결 (Edge association)
    - 인바운드 VPC 트래픽을 어플라이언스로 라우팅하는 데 사용하는 라우팅 테이블
    - 라우팅 테이블을 인터넷 게이트웨이 또는 가상 프라이빗 게이트웨이와 연결하고 어플라이언스의 네트워크 인터페이스를 VPC 트래픽의 대상으로 지정
- Transit 게이트웨이 라우팅 테이블
    - Transit 게이트웨이와 연결된 라우팅 테이블
- 로컬 게이트웨이 라우팅 테이블
    - Outposts 로컬 게이트웨이와 연결된 라우팅 테이블

## 서브넷 라우팅 테이블

VPC에는 암시적 라우터가 있으며 라우팅 테이블을 사용하여 **네트워크 트래픽을 전달되는 위치를 제어**

VPC의 각 서브넷을 라우팅 테이블에 연결해야 하고, 테이블에서는 서브넷에 대한 라우팅을 제어

서브넷은 한 번에 하나의 라우팅 테이블에만 연결할 수 있지만 여러 서브넷에서 동일한 서브넷 라우팅 테이블에 연결할 수 있다

[VPC의 서브넷 - Amazon Virtual Private Cloud](https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/configure-subnets.html)