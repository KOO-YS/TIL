Subnet은 VPC의 IP 주소 범위이며, VPC로 AWS 리소스를 시작할 수 있다

## 서브넷 기본 사항

- VPC의 IP 주소 범위
- EC2 인스턴스와 같은 AWS 리소스를 특정 서브넷으로 시작할 수 있다
- 서브넷 생성 시, 해당 서브넷에 대한 IPv4 CIDR 블록 지정
- 각 서브넷은 단일 가용 영역 내에서만 존재 가능하며, 다중 영역으로 확장 불가능
    - 서로 구분되어 있는 가용 영역에서 인스턴스를 실행함으로써 단일 영역에서 장애가 발생할 경우 애플리케이션 보호

## 서브넷 유형

서브넷의 라우팅 구성 방법에 따라 유형이 달라진다

- 퍼블릭 서브넷
    - 서브넷이 직접 인터넷 게이트웨이에 연결되는 경로가 존재
    - 퍼블릭 서브넷의 리소스는 퍼블릭 인터넷에 액세스할 수 있다
- 프라이빗 서브넷
    - 인터넷 게이트웨이에 직접 연결되는 경로가 없기 때문에, 프라이빗 서브넷 내부 리소스들에게는 퍼블릭 인터넷에 액세스하기 위해 NAT 디바이스가 필요
- VPN 전용 서브넷
    - 서브넷은 가상 프라이빗 게이트웨이를 통해 사이트 간 VPN 연결로 라우팅된다
    - 서브넷에는 인터넷 게이트웨이에 대한 경로가 없음

### 서브넷 생성 시, VPC 구성별 IP 주소 지정 방법

- IPv4 전용
    - 서브넷에 IPv4 CIDR 블록이 있지만, *IPv6 CIDR 블록은 없다*
        - IPv4 전용 서브넷의 리소스는 IPv4를 통해 통신해야 한다
- 듀얼 스택
    - 서브넷과 VPC 모두 IPv4 CIDR 블록 & IPv6 CIDR 블록이 둘 다 있어야 한다
    - 듀얼 스택 서브넷의 리소스는 IPv4 alc IPv6을 통해 통신할 수 있다
- IPv6 전용
    - 서브넷에 IPv6 CIDR 블록이 있지만, *IPv4 CIDR 블록은 없다*
        - IPv6 전용 서브넷의 리소스는 IPv6를 통해 통신해야 한다
- 서브넷의 유형과 관계없이 서브넷의 내부 IPv4 주소 범위는 항상 프라이빗이다
    - 인터넷에 주소 블록을 알리지 말 것
    

## 서브넷 설정



[VPC의 서브넷 - Amazon Virtual Private Cloud](https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/configure-subnets.html)