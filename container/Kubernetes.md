# Kubernetes

<br>



### Kubernetes

- 컨테이너 운영을 자동화하기 위한 컨테이너 오케스트레이션 도구
- 많은 수의 컨테이너를 협조적으로 연동시키기 위한 통합 시스템
- 컨테이너를 이용한 애플리케이션 배포 외에도 다양한 운영 관리 업무를 자동화할 수 있다
  - 도커 호스트 관리, 서버 리소스의 여유를 고려한 컨테이너 배치, 스케일링, 여러 개의 컨테이너 그룹에 대한 로드 밸런싱, 헬스 체크 등의 기능을 갖춤

<br>



##### 클라우드 플랫폼의 쿠버네티스 지원 

- 주 개발인 GCP의 GKE(Google Kubernetes Engine)이란 컨테이너 매니지드 서비스 뿐만 아니라 다양한 쿠버네티스 매니지드 서비스가 있다
  - AWS의 EKS
  - AZURE의 AKS
- 쿠버네티스를 클라우드 플랫폼에 심리스하게 연동시켜 개발을 효율적으로 수행할 수 있는 서비스를 제공하는 것이 클라우드 플랫폼의 필수 경쟁력이 되었다

##### 도커에 정식 통합

- 2017년 10월 도커와 쿠버네티스 통합 정식 발표
- 도커 데스크톱에서 쿠버네티스 클러스터를 구축하는 기능이 새로 발표

<br>



#### 쿠버네티스의 역할

도커 : 컨테이너를 관리하는 데몬 `dockerd`와 명령행 도구로 구성

쿠버네티스 : 여러 대의 호스트를 묶어 기초적인 컨테이너 오케스트레이션 기능 제공 + 도커 비롯 여러 가지 컨테이너 런타임을 다룰 수 있다

<br>

### 쿠버네티스의 주요 개념
> 쿠버네티스로 실행하는 애플리케이션은 애플리케이션을 구성하는 다양한 리소스가 함께 연동해 동작 <br>
> \* 쿠버네티스 리소스 : 애플리케이션을 구성하는 부품 (ex) 노드, 네임스페이스, 파드 등

<br>

##### 쿠버네티스 리소스 종류
- 노드 : 컨테이너가 배치되는 서버
- 네임 스페이스 : 쿠버네티스 클러스터 안의 가상 클러스터
- 파드 : 컨테이너의 집합 중 **가장 작은 단위**, 컨테이너의 실행 방법을 정의
- 레플리카 세트 : *같은 스펙을 갖는 파드*를 여러 개 생성하고 관리하는 역할
- 디플로이먼트 : 레플리카 세트의 리비전을 관리
- 서비스 : 파드의 집합에 접근하기 위한 경로를 정의
- 인그레스 : 서비스를 쿠버네티스 클러스터 외부로 노출
- 컨피그 맵 : **설정 정보를 정의**하고 파드에 전달
- 퍼시스턴스 볼륨 : **파드가 사용할 스토리지**의 크기 밎 종류
- 퍼시스턴스 볼륨 클레임 : 퍼시스턴스 볼륨을 동적으로 확보
- 스토리지 클래스 : **퍼시스턴스 볼륨이 확보하는 스토리지**의 종류
- 스테이트풀 세트 : 같은 스펙으로 모두 동일한 파드를 여러 개 생성하고 관리
- 잡 : 상주 실행을 목적으로 하지 않는 파드를 여러 개 생성하고 정상적인 종료를 보장
- 크론잡 : 크론 문법으로 스케줄링되는 잡
- 시크릿 : 인증 정보 같은 기밀 데이터를 정의
- 롤 : 네임스페이스 안에서 조작 가능한 쿠버네티스 리소스의 규칙을 정의
- 롤 바인딩 : 쿠버네티스 리소스 사용자와 롤을 연결 짓는다
- 클러스터 롤 바인딩 : 쿠버네티스 리소스 사용자와 클러스터 롤을 연결짓는다
- 서비스 계정 : 파드가 쿠버네티스 리소스를 조작할 때 사용하는 계정

<br>

> ❔ 레플리카 세트 vs 스테이트풀 세트 (정확한 차이 비교해보기)
> - 같은 스펙**의** 파드 여러 개 생성 vs 같은 스펙**으로** 모두 동일한 파드 여러 개 생성 

<br>

#### 쿠버네티스 클러스터와 노드
쿠버네티스 클러스터 : 쿠버네티스의 여러 리소스를 관리하기 위한 집합체












