# Spring AOP

<br>



---



##### Index

- Spring AOP
  - Spring AOP란?
  - Spring AOP가 사용되는 곳
- AOP의 용어
  - AOP 구성 요소
  - AOP Advice 타입

<br>



---

<br>



# 🍃 Spring AOP

### Spring AOP란?

AOP(Aspect-Oriented Programming) : 관점 지향 프로그래밍

프로그램의 로직을 여러 분리된 파트로 분리할 수 있다

트랜잭션 관리, 로깅, 보안 같은 개념의 부가 기능 모듈화가 가능하도록 한다

##### Aspect 

-> 그 자체로 애플리케이션의 핵심 기능을 담고 있지는 않지만, 애플리케이션을 구성하는 중요한 요소이며,  핵심 기능에 부가되어 의미를 갖는 특별한 모듈

<br>



실제 로직의 '이전', '이후', '주변'에 **cross-cutting** 기능을 탈부착식으로 더할 수 있도록 한다

cross-cutting 

- 모듈화를 돕고, 애플리케이션의 비즈니스 로직으로부터 분리할 수 있도록 돕는 개념

- 전체 애플리케이션에 영향을 주면서, 관련 코드를 한 곳에 집중시킬 수 있다

- 현재와 미래에 코드를 유지보수하기 쉽게 만들어 준다
- 로직을 수정할 필요 없이 설정 파일을 바꾸는 것만으로도 공통 기능을 쉽게 더하고 뺄 수 있다 (xml로 aop를 적용하는 경우에는 소스를 다시 컴파일할 필요도 없다)

<br>



### Spring AOP가 사용되는 곳

declarative enterprise services를 제공하기 위해 주로 사용된다

\* **declarative enterprise services** : `ex` EJB declarative services -> 기업 환경의 시스템을 구현하기 위한 (비즈니스 로직을 가지고 있는 )서버측 컴포넌트 모델

사용자가 커스텀 aspect를 구현할 수 있도록 허용한다

<br>



# 🍃 AOP의 용어

### AOP 구성 요소

##### Target

부가 기능을 부여할 대상

핵심 기능을 담은 클래스일 수도 있지만, 경우에 따라서는 다른 부가기능을 제공하는 프록시 오브젝트일 수도 있다

##### Advice

타깃에 제공할 부가 기능을 정의한 모듈

어드바이스는 오브젝트로 정의하기도 하지만 메소드 레벨에서 정의할 수도 있다

###### example

- MethodInterceptor : 메소드 호출 과정에 전반적으로 참여
- 예외 처리 어드바이스 : 예외가 발생했을 때만 동작 (-> 일부에서만 동작)

##### JoinPoint

어드바이스가 적용될 수 있는 위치.

타깃 오브젝트가 구현한 인터페이스의 모든 메소드는 조인 포인트가 된다

##### Pointcut

어드바이스를 어디에 적용할지를 **선별**하는 작업 또는 그 기능을 정의한 모듈.

스프링 AOP의 조인 포인트는 메소드의 실행이므로 스프링의 포인트컷은 메소드를 선정하는 기능을 갖고 있다  

##### Weaving

부가기능을 적용하기 위해 aspect를 다른 애플리케이션 타입이나 객체와 함께 연결하는 과정 

비즈니스 로직에 공통 aspect 로직을 연결 

##### Advisor

advice + pointcut

<br>



### AOP Advice 타입

- **Before** : 메소드 실행 전에 어드바이스 실행
- **After** : 결과와 상관없이 메소드 실행 후 어드바이스 실행 
- **After-returning** : 메소드 실행이 성공적으로 완료했을 때만 어드바이스 실행
- **After-throwing** : 메소드가 예외를 던진 후에만 어드바이스 실행
- **Around** : 메소드가 실행되기 전 후에 어드바이스 실행
